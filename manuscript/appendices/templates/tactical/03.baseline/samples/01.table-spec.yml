table:
  name: invoices
  description: Stores customer invoices for billing and payment tracking.

structure: |
  CREATE TABLE `invoices` (
    `id` bigint unsigned NOT NULL AUTO_INCREMENT,
    `customer_id` bigint unsigned NOT NULL,
    `status` varchar(50) NOT NULL DEFAULT 'pending',
    `total_amount` decimal(10,2) NOT NULL,
    `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `deleted_at` timestamp NULL DEFAULT NULL,
    PRIMARY KEY (`id`),
    KEY `invoices_customer_id_foreign` (`customer_id`)
  ) ENGINE=InnoDB;

keys_timestamps:
  primary_key: id
  timestamps:
    created: created_at
    updated: updated_at
    soft_delete: deleted_at

data_access_pattern:
  orm_in_use: yes
  if_orm:
    library: Eloquent
    model_file: App/Models/Invoice.php
    model_class: Invoice
  if_no_orm: {}

joins:
  - with: customers
    on: invoices.customer_id = customers.id

indexes:
  primary_key: invoices_pkey (id)
  unique_indexes: []
  other_indexes:
    - name: invoices_customer_id_foreign
      columns: [customer_id]
      notes: supports lookups by customer

columns:
  - name: id
    type: bigint
    size_precision: 20
    nullable: false
    default: auto_increment
    description: Primary key
  - name: status
    type: varchar
    size_precision: 50
    nullable: false
    default: pending
    description: Invoice status
  - name: created_at
    type: timestamp
    size_precision: null
    nullable: true
    default: CURRENT_TIMESTAMP
    description: Creation time
